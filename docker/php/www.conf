[www]
user = www-data
group = www-data

listen = 9000
listen.backlog = 1024

pm = dynamic
pm.max_children = 72
pm.start_servers = 24
pm.min_spare_servers = 24
pm.max_spare_servers = 48
pm.max_requests = 1000

request_terminate_timeout = 60s

catch_workers_output = yes
clear_env = no

; Optional status/ping endpoints (wire via Nginx if you want)
pm.status_path = /status
ping.path = /ping

; Slow log to detect heavy requests
slowlog = /proc/self/fd/2
request_slowlog_timeout = 5s

; File descriptor limit (raise for high concurrency)
rlimit_files = 10240